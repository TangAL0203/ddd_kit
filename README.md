### collect common 3d code
